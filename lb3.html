<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Adjective ‚Üí Adverb –ê–Ω–∞–ª–æ–≥—ñ—ó</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f9f9f9;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1em;
      display: none; /* –°—Ö–æ–≤–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü—è —Å–ø–æ—á–∞—Ç–∫—É */
    }
    th, td {
      border: 1px solid #ddd;
      padding: 6px 10px;
      text-align: center;
    }
    th {
      background: #eee;
    }
    .correct {
      background-color: #d4edda;
    }
    .incorrect {
      background-color: #f8d7da;
    }
    input {
      margin-top: 10px;
      padding: 5px;
      width: 300px;
    }
    #noResults {
      color: gray;
      margin-top: 1em;
      display: none;
    }
  </style>
</head>
<body>
  <h2>–ê–Ω–∞–ª–æ–≥—ñ—ó: –ø—Ä–∏–∫–º–µ—Ç–Ω–∏–∫ ‚Üí –ø—Ä–∏—Å–ª—ñ–≤–Ω–∏–∫</h2>
  <input type="text" id="search" placeholder="üîç –í–≤–µ–¥—ñ—Ç—å —Å–ª–æ–≤–æ –¥–ª—è –ø–æ—à—É–∫—É..." onkeyup="filterTable()" />

  <p id="noResults">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ‚Ä¶</p>

  <table id="resultsTable">
    <thead>
      <tr>
        <th>–ü—Ä–∏–∫–º–µ—Ç–Ω–∏–∫ 1</th>
        <th>–ü—Ä–∏—Å–ª—ñ–≤–Ω–∏–∫ 1</th>
        <th>–ü—Ä–∏–∫–º–µ—Ç–Ω–∏–∫ 2</th>
        <th>–û—á—ñ–∫—É–≤–∞–Ω–æ</th>
        <th>–ü–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ</th>
        <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    let data = [];

    fetch('analogy_results.json')
      .then(response => response.json())
      .then(json => {
        data = json; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ –≥–ª–æ–±–∞–ª—å–Ω–æ
      });

    function filterTable() {
      const input = document.getElementById("search").value.toLowerCase();
      const tbody = document.querySelector("#resultsTable tbody");
      const table = document.getElementById("resultsTable");
      const noResults = document.getElementById("noResults");

      tbody.innerHTML = "";

      if (!input.trim()) {
        table.style.display = "none";
        noResults.style.display = "none";
        return;
      }

      const filtered = data.filter(item =>
        item.adj1.toLowerCase().includes(input) ||
        item.adv1.toLowerCase().includes(input) ||
        item.adj2.toLowerCase().includes(input) ||
        item.expected_adv2.toLowerCase().includes(input) ||
        item.predicted_adv2.toLowerCase().includes(input)
      );

      if (filtered.length === 0) {
        table.style.display = "none";
        noResults.style.display = "block";
        return;
      }

      noResults.style.display = "none";
      table.style.display = "table";

      filtered.forEach(item => {
        const row = document.createElement('tr');
        row.className = item.correct ? 'correct' : 'incorrect';
        row.innerHTML = `
          <td>${item.adj1}</td>
          <td>${item.adv1}</td>
          <td>${item.adj2}</td>
          <td>${item.expected_adv2}</td>
          <td>${item.predicted_adv2}</td>
          <td>${item.correct ? '‚úÖ' : '‚ùå'}</td>
        `;
        tbody.appendChild(row);
      });
    }
  </script>
</body>
</html>